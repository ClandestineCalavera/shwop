<!-- TODO: (1) Research photo file path validation  -->

<nav class='navbar navbar-app navbar-relative-top'>
  <strong class='navbar-brand-center navbar-brand'>Shwop</strong>
  <div class='btn-group pull-left'>
    <div ui-toggle='uiSidebarLeft' class='btn sidebar-toggle'>
      <i class='fa fa-bars'></i> {{ 'menuTitle' | translate }}
    </div>
  </div>
  <div class='btn-group pull-right collapsible'>
    <a ng-click='signout()' class='btn btn-navbar'>{{ 'logoutNav' | translate }}</a>
  </div>
</nav>

<div class='scrollable-content section'>
<h1 class='page-header'>{{ 'myStoreHeader' | translate }}</h1>

  <div ng-repeat='product in data.products' class="panel panel-default store-product">
    <div class="panel-heading">
      <div class="btn-group pull-right">
        <a ui-turn-on='myDropdown{{product.id}}' ng-click='setCurrent(product)' class='btn'>
          <i class="fa fa-ellipsis-v"></i>
        </a>
        <ul 
          ui-state="myDropdown{{product.id}}"

          class="dropdown-menu"
          ui-outer-click="Ui.turnOff('myDropdown' + product.id)"
          ui-outer-click-if="Ui.active('myDropdown' + product.id)"
          role="menu"
          ui-show="myDropdown{{product.id}}"
          ui-turn-off="myDropdown{{product.id}}">

          <li><a ng-click='viewProduct(product)'>{{ 'viewProduct' | translate }}</a></li>
          <li><a ng-click='updateProduct(product.id)'>{{ 'updateProduct' | translate }}</a></li>
          <li class="divider"></li>
          <li><a ng-click='deleteProduct(product.id)'>{{ 'deleteProduct' | translate }}</a></li>
        </ul>
      </div>
      <h3 class="panel-title">{{ product.name }}</h3>
    </div>
    <div class="panel-body">
       <img ng-src='{{ product.photoURL }}' class='store-product-image'>
    </div>
  </div>
</div>

<div ui-content-for="modals">
  <div ng-include="'viewProductModal.html'"></div>
</div>

